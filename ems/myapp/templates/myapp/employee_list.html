<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee List</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" href="../../../static/css/my-styles.css">
</head>


<body class="emp-list bg-body-tertiary">

    
    <h2 class="text-center py-2 mb-4 bg-body-secondary text-primary-emphasis sticky-top">Employee List</h2>
    <div class="container">
        <div><a href="{% url 'employee-add' %}" class="btn btn-sm btn-dark rounded-3 ms-3 shadow"><i class="fa-solid fa-user-plus me-2"></i> Add employee</a></div>


        <div class="row ">
            {% for e in data %}

            <div class="col-12 col-md-6 col-lg-3 my-3 px-3">

                <div class="card bg-body-tertiary">
                    <img width="200px" height="390px" src="{{e.image.url}}" class="card-img-top p-2" alt="...">
                    <div class="card-body ">
                        <h5 class="card-title text-primary-emphasis bg-body-secondary p-2 rounded text-center"><span
                                class="text-muted"></span> {{e.first_name|capfirst}} {{e.last_name|capfirst}}</h5>
                        <p class="card-text"><span class="text-muted">ID / Code:</span> {{e.emp_id}}</p>
                        <p class="card-text"><span class="text-muted">Department:</span> {{e.department}}</p>
                        <p class="card-text"><span class="text-muted">Position:</span> {{e.position}}</p>
                        <p class="d-none hidden-elem">{{e.status}}</p>
                        <a href="{% url 'employee-detail' pk=e.id %}" class="btn btn-primary btn-sm">More details</a>
                        <a href="{% url 'employee-update' pk=e.id %}" class="btn btn-warning btn-sm text-light"><i class="fa-solid fa-pen-to-square"></i></a>
                        <a href="{% url 'employee-delete' pk=e.id %}" class="btn btn-danger btn-sm"><i class="fa-solid fa-trash"></i></a>
                    </div>
                </div>

            </div>



            {% endfor %}

        </div>



    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>



    <script>

        document.querySelectorAll('.card').forEach((elem) => {

            if (elem.querySelector('.hidden-elem').innerHTML == 'Inactive') {
                let cardBody = elem.querySelector('.card-body');
                //let span = document.createElement('span');
                cardBody.insertAdjacentHTML('afterBegin', '<span class="px-2 py-1 status-span text-danger border border-danger border-2">Inactive</span>')

            }
        })
    </script>
</body>

</html>